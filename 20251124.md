# 28~30 원격 수업 정리

## 28 버전 되돌리기 reset

### reset
- 커밋 이력에서 이전 특정 커밋으로 완전히 되돌아가는 방법
  - 이동되는 해당 커밋 이후의 이력은 모두 사라지므로 주의 필요
- 깃 저장소는 이전 커밋 내용으로 수정

### reset 옵션
- --hard
  - 지정된 HEAD~(커밋 메시지 Alphabet)의 내용으로 작업 폴더와 스테이지 영역, 깃 저장소가 모두 복사, 수정
    - 전에 있던 작업 폴더와 스테이지 영역에 작업 내용이 모두 사라지므로 주의 필요
- --mixed
  - 지정된 HEAD~(커밋 메시지 Alphabet)의 내용으로 작업 폴더와 스테이지 영역, 깃 저장소가 모두 복사, 수정
    - 커밋 메시지 Alphanumeric의 로그 이 력과 함께 당시의 스테이지 영역, 깃 저장소 내용이 모두 사라짐<br>
but 작업 폴더의 내용은 이전 그대로 남음
  - --mixed는 기본 옵션으로 git reset과 동일
- --soft
  - 지정된 HEAD~(커밋 메시지 Alphabet)의 내용으로 깃 저장소만 복사, 수정
    - 커밋 메시지 Alphanumeric의 로그 이력은 사라짐
    -  작업 폴더와 스테이지 영역의 내용이 모두 이전 그대로 남음

### 바로 이전 커밋 참조
- $ git reset --hard ORIG_HEAD

### reset과 checkout 비교
- $ git reset 9033
  - 브랜치의 마지막 커밋을 수정하는 명령
- $ git checkout 9033
  - HEAD 포인터를 브랜치 마지막 커밋 이전으로 이동하는 명령


## 29 [실습] 버전 되돌리기 reset
영상참고

## 30 커밋 취소 revert

### 커밋 취소 revert
- undo와 비슷한 기능 : 지정한 특정 커밋을 취소해 바로 이전 상태로 되돌리는 방법
- reset과 다르게 커밋할 것이 없고, 작업 영역이 깨끗해야 수행 가능
- 커밋해온 모든 배경 사항들을 rollback
- 이전의 커밋 히스토리는 그대로 유지, 되돌리는 새로운 커밋이 그 이후에 추가

### revert 충돌
- 인자가 HEAD~와 같이 HEAD 이전을 취소하면 충돌이 발생할 수 있음
- 발생을 막기 위해서 바로 이전 취소를 여러 번 계속

### 명령 revert
- $ git revert HEAD~ : 이동되는 커밋의 내용으로 작업 폴더와 스테이징 영역, 깃 저장소를 모두 복사하고 커밋 메시지를 수정하도록 편집기가 실행됨
- $ git revert [commit_ID]
- $ git revert HEAD~ --no-edit : 옵션 --no-edit으로 편집기 실행 없이 커밋 메시지가 자동으로 'Revert "이전 커밋 메시지"'으로 지정되어 새로운 커밋 생성
- $ git revert [commit ID] --no-edit

### 오류 발생
- 커밋할 것이 있고 작업 영역이 깨끗하지 않으면 오류
- 해결 방법
  - 커밋을 하고 다시 revert하는 방법
    - 현재 커밋 내용으로 작업 폴더와 스테이지 영역, 깃 저장소 모두 수정, 복사
  - git reset --hard HEAD~
    - 이전 커밋 내용으로 작업 폴더와 스테이지 영역, 깃 저장소를 모두 수정, 복사

### reset vs revert
- reset : 되돌리기, 재설정
  - 특정 커밋으로 되돌아가고 그 이후의 로그 이력은 모두 제거
- revert : 커밋 취소
  - 특정 커밋을 취소하는 새로운 커밋 생성, 이전 모든 이력은 그대로 남음
